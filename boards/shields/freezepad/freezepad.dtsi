#include <dt-bindings/zmk/matrix_transform.h>
#include "freezepad-layouts.dtsi"
&physical_layout0 {
    transform = <&default_transform>;
};

// Keyscan Setup
/ {
    chosen {
        zmk,kscan = &kscan0;
        zmk,physical-layout = &physical_layout0;
    };

    default_transform: keymap_transform_0 {
        compatible = "zmk,matrix-transform";
        columns = <20>;
        rows = <1>;

// | SW00 | SW01 | SW02 | SW03 |
// | SW10 | SW11 | SW12 | SW13 |
// | SW20 | SW21 | SW22 | SW23 |
// | SW30 | SW31 | SW32 | SW33 |
// | SW40 | SW41 | SW42 | SW43 |

        map = <
            RC(0,0)  RC(0,1)  RC(0,2)  RC(0,3)
            RC(1,0)  RC(1,1)  RC(1,2)  RC(1,3)
            RC(2,0)  RC(2,1)  RC(2,2)  RC(2,3)
            RC(3,0)  RC(3,1)  RC(3,2)  RC(3,3)
            RC(4,0)  RC(4,1)  RC(4,2)  RC(4,3)
        >;
    };

    kscan0: kscan {
        compatible = "zmk,kscan-gpio-direct";
        label = "KSCAN";
        wakeup-source;
        input-gpios =
            <&gpio0 2  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col1_row1 - P2
            <&gpio0 7  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col2_row1 - P7
            <&gpio0 10 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col3_row1 - P10
            <&gpio0 18 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col4_row1 - P18

            <&gpio0 3  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col1_row2 - P3
            <&gpio0 8  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col2_row2 - P8
            <&gpio0 16 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col3_row2 - P16
            <&gpio0 19 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col4_row2 - P19

            <&gpio0 4  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col1_row3 - P4
            <&gpio0 9  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col2_row3 - P9
            <&gpio0 14 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col3_row3 - P14
            <&gpio0 20 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col4_row3 - P20

            <&gpio0 5  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col1_row4 - P5
            <&gpio1 31 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col2_row4 - P31
            <&gpio0 15 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col3_row4 - P15
            <&gpio0 21 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col4_row4 - P21

            <&gpio0 6  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col1_row5 - P6
            <&gpio1 32 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col2_row5 - P32
            <&gpio0 0  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>, //matrix_col3_row5 - P0
            <&gpio0 1  (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>; //matrix_col4_row5 - P1
    };

};